# Digital Security Tutorial

## Secure Communication
Digital communication is the process of sending and receiving data
over public infrastructures like the Internet. The majority of the early
protocols send data in plaintext, like HTTP or SMTP. With time it was
realized that more secure ways of transferring data were needed by addressing
the following problems:

1. How to protect the data content (Encryption)?
2. How to ensure communication with the right partner (Authentication)?
3. How to verify if the data was modified in the delivery process (Integrity)?

The following section will give short insights on how to address the
aforementioned issues.

### 1. Encryption

Cryptography is a way to secure communications by converting taking normal
information, called plaintext to a scrambled text, called ciphertext. The encoding process is called **encryption** and the algorithm used to encode the text is called **cipher**. Modern categorization of ciphers divides them
into two major groups:


#### A. Symmetric (shared private key)
Symmetric encryption requires that you have a shared key between client and
server. The same key is used by the client to encode the data and the same
key must be used by the server to decode the data, which means that this key
must be transferred somehow from client to server.

Unfortunately, security only works as hard as your weakest link, and weak
links are especially catastrophic in symmetric encryption. Once one person
compromises the key, then every ciphertext generated by the key is
compromised. Itâ€™s safe to assume that any security system will, at some
point, become compromised.


#### B. Asymmetric (shared public key)
Asymmetric encryption allows for two users who have never communicated
before to share a common secret by using public and private keys.

1. Agree on private and public key
2. Combine private and shared key
3. Exchange combined key
4. Apply private key to the combined key
5. Resulting combination is shared secret key
6. Encrypt/Decrypt data using the shared secret key (symmetric encryption)


### 2. Authentication

#### Certificates
Certificates are used to confirm that the communication partner can be trusted
to exchange information. They are like passports for the Internet and include
the following information:

* Issued To X: identifies who owns the certificate
* Issued By Y: identifies who issued the certificate
* Validity Period: identifies the time frame for which the certificate is valid

> From time A to time B I am X according to Y

#### Certificate Authorities
Certificate Authorities are responsible for issuing certificates. They are
considered a trusted third party (TTP) in PKI. Essentially, these entities
act as valid authorities for a certificate.

The certificate issuing process is similar to the following:

1. Create a Certificate Signing Request (CSR): This is like filling out the
information for your visa.
2. Send the CSR to a Trusted Third Party (TTP): This is like sending your
information into a visa application office.
3. Verify your information: Somehow, the TTP needs to verify the information
you provided. As an example, see how Amazon validates ownership.
4. Generate a Public Key: The TTP signs your CSR. This is equivalent to the
TTP signing your visa.
5. Issue the verified Public Key: This is equivalent to you receiving your
visa in the mail.

The communication with the partner requires verification of the exchanged
certificates. This can be a local or remote certificate database. In the latter case, the remote machine is also called "Validation Authority" or
simply VA.

### 3. Data Integrity
Digital signature of the digital content, which allows for detection of data
manipulation. The digital signature is the calculation of the hash value
of the digital certificate encrypted with the private key.

## Standards 
### X.509: Digital Certificates
The digital certificate is combination encryption, authentication and
signature information into an electronic document. The basic structure
of the document is the following:

* Issued to
* Issued from
* Validity
* Public Key
* Signature

### Transport Layer Security Protocol (TLS)
The TLS protocol defines the steps required to establish a secure connection
using digital certificates. It is an OSI L6 protocol (L6), responsible for
the encoding and decoding of data. The protocol itself defines a structural
entity called TLS Record. Depending on the context different types of records
are available:

* Handshake Record
* Alert Record
* CipherChange Record
* Application Record

#### Handshake


      Client-Server

      ClientHello                  -------->
                                                      ServerHello
                                                     Certificate*
                                               ServerKeyExchange*
                                              CertificateRequest*
                                   <--------      ServerHelloDone
      Certificate*
      ClientKeyExchange
      CertificateVerify*
      [ChangeCipherSpec]
      Finished                     -------->
                                               [ChangeCipherSpec]
                                   <--------             Finished
      Application Data             <------->     Application Data
             
    * Indicates optional or situation-dependent messages that are not
     always sent.

![TLS Handshake](images/tls_handshake.gif "Logo Title Text 1")



## Public Key Infrastructure 

The PKI is the combination of encryption, authentication, and data security 
into a process of requesting, issuing, and verification of digital certificates.

## References

    https://realpython.com/python-https/
    https://www.youtube.com/watch?v=heacxYUnFHA
    https://www.ibm.com/support/knowledgecenter/en/SSFKSJ_7.1.0/com.ibm.mq.doc/sy10230_.htm
    https://www.niap-ccevs.org/
    
* Key management
* Key generation